\subsection{アノテーション}

Segmentationでは、教師あり学習を実施する。即ち、学習に使用する画像に対して、予め検出したい領域とそのカテゴリを用意する必要がある。画像に対し注釈をつけるという意味で、この作業をアノテーションと呼ぶ。アノテーションを行うためのツールとして、Microsoft 社の VoTT \footnote{VoTT：https:\slash\slash github.com\slash microsoft\slash VoTT}を使用した。

実際の学習画像に対するアノテーション例を図９に示す。縫製位置は画像中心部分のXを描く空白部分であるが、画像の両脇にも見切れた形でXが残っている。この部分がモデルの精度に影響する可能性があることを考慮して、今回はこの見切れた部分についてもアノテーションを実施した。また、領域の線は、Xに隣接する布地のドット模様の中心を通る形としている。
\\
\begin{figure}[h!]
\begin{center}
\includegraphics[width=7cm]{images/images_merge/ano_sample.png}
\caption{アノテーション例}
\end{center}
\end{figure}

\subsection{学習データセット}

Segmentationモデルを作成するために使用した学習データを記述する。縫製工程において撮影された布地の写真は、その特徴から”Normal” ”糸残り” ”縫い跡・影あり” ”縫い跡あり” の4つに分類される。それぞれの特徴は以下の通りである。

\begin{tabbing}
\hspace{25mm}\= \hspace{10mm} \kill
・Normal \>：生地表面の模様以外には写り込みが無い写真 \\
・糸残り \>	：中心部に縫製糸が残り見えている写真 \\
・縫い跡あり \>：中心部に縫製跡が残っている写真 \\
・縫い跡・影あり \>：中心部に縫製跡が残っており、かつ生地表面の凹凸による影が写り込んでいる写真\\
\end{tabbing}

\begin{figure}[h!]
\begin{center}
\includegraphics[width=160mm]{images/images_merge/four_features.png}
\caption{写真の特徴}
\end{center}
\end{figure}

実験では、それぞれの特徴を持った写真が一定数以上入るデータセットを用いてモデルの学習を行うとともに、学習データに含まれない画像を用いて推論を行い、モデルの評価を行った。この条件下で実験したものを“実験１”と定義する。また、実験１の結果として苦手とする特徴が発生した場合、その特徴を持つ画像を実験１で使用したデータセットに追加して再度実験を行うこととした。後者を“実験２”、“実験３”とし
\\
実験１では、受領した約１８００枚の中からそれぞれの特徴が最低２０枚以上含まれる形で１６１枚を抜粋し、データセットとして学習に使用した。実験２では、実験１の結果次第で苦手な特徴に対し１０枚の追加を、実験３では２０枚の追加を行うこととする。

\begin{tabbing}
\hspace{25mm}\= \hspace{10mm} \kill
・Normal \>：４０枚\\
・糸残り \>	：２６枚 \\
・縫い跡あり \>：７４枚 \\
・縫い跡・影あり \>：２２枚\\
\end{tabbing}

評価用のデータは、下記の内訳で３７枚を使用した。同じ特徴内においても写真にバリエーションがあるため、ある程度のパタンの差異が出るようにデータを選択している。Normalでは比較的画像のバリエーションが少ないため、評価用データの枚数を他に比べ半分程度の分量としている。

\begin{tabbing}
\hspace{25mm}\= \hspace{10mm} \kill
・Normal \>：６枚\\
・糸残り \>	：１１枚 \\
・縫い跡あり \>：１０枚 \\
・縫い跡・影あり \>：１０枚\\
\end{tabbing}

一般的にDeep Learningモデルを作成する場合、最も重要な要素の１つが、学習データの質と、質の高いデータの量である。今回のケースでは、学習に使う写真が実際の使用状況に即したものであり、複雑性があまりなく、かつある程度のバリエーションがあるため、質の面では一定の水準には達していると考えられる。学習・評価に使用したデータは、別途DVDに収めて提出する。